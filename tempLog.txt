npm run dev

> soragemi-x@1.0.0 dev
> concurrently -k -n "FE,BE" "npm run dev --workspace frontend" "npm run start --workspace backend"

[FE] 
[FE] > soragemi-x-frontend@1.0.0 dev
[FE] > vite
[FE] 
[BE] 
[BE] > soragemi-x-backend@1.0.0 start
[BE] > node server.js
[BE] 
[FE] 
[FE]   VITE v4.5.14  ready in 481 ms
[FE] 
[FE]   ➜  Local:   http://localhost:5173/
[FE]   ➜  Network: http://192.168.1.3:5173/
[BE] 🔄 Verificando conexión a la base de datos...
[BE] ✅ Conexión a MySQL establecida correctamente
[BE] 📊 Base de datos: zoragenix_db
[BE] 🏠 Host: localhost:3306
[BE] 🚀 ===================================
[BE] 🌟 SoraGemiX Backend Server Started
[BE] 🚀 ===================================
[BE] 📡 Servidor ejecutándose en puerto: 5001
[BE] 🌐 URL: http://localhost:5001
[BE] 🏥 Health Check: http://localhost:5001/health
[BE] 📚 API Base: http://localhost:5001/api
[BE] 🔧 Entorno: development
[BE] 🚀 ===================================
[BE] 📁 Archivo procesado: istockphoto-1277996375-612x612.jpg (30KB)
[BE] 📝 Datos recibidos: {
[BE]   toolId: 1,
[BE]   selectedOptions: {
[BE]     'Cambiar Color_camiseta': '#0ff029',
[BE]     'Cambiar Color_pantalón': '#f42a2a',
[BE]     'Cambiar Color_pelo': '#3019e1',
[BE]     Accesorios_cabeza: 'gafas',
[BE]     Accesorios_cuello: 'collar',
[BE]     Accesorios_mano: 'reloj',
[BE]     'Nueva Pose_acción': 'apuntando',
[BE]     'Nueva Pose_expresión': 'sorprendida'
[BE]   },
[BE]   customPrompt: 'Cambiar Color: cambiar el color de. Accesorios: agregar. Nueva Pose: cambiar la pose con',
[BE]   generationMode: 'single_image'
[BE] }
[BE] 🎯 Prompt final construido: cambiar el color de la camiseta a #0ff029, cambiar el color de la pantalón a #f42a2a, cambiar el color de la pelo a #3019e1, agregar gafas en la cabeza, agregar collar en la cuello, agregar reloj en la mano, realizar la acción de apuntando, mostrar expresión sorprendida
[BE] 🎨 Generando imagen para usuario 1
[BE] 📝 Prompt: cambiar el color de la camiseta a #0ff029, cambiar el color de la pantalón a #f42a2a, cambiar el color de la pelo a #3019e1, agregar gafas en la cabeza, agregar collar en la cuello, agregar reloj en l...
[BE] ✅ Nano-Banana service inicializado correctamente
[BE] ✏️ Editando imagen con texto: cambiar el color de la camiseta a #0ff029, cambiar el color de la pantalón a #f42a2a, cambiar el col...
[BE] ✅ Respuesta procesada: { hasText: false, imageCount: 1, finishReason: 'STOP' }
[BE] 💾 Imagen guardada: /Volumes/SSD_ALEJANDRO_MAC/MAIN/DOCUMENTS/ALEJANDRO_DEV/REPOSITORIES/ZoraGeniX/backend/uploads/generated/generated_1_1758693076974.png
[BE] ❌ Error generando imagen: TypeError: User.decrementQuota is not a function
[BE]     at generateImage (/Volumes/SSD_ALEJANDRO_MAC/MAIN/DOCUMENTS/ALEJANDRO_DEV/REPOSITORIES/ZoraGeniX/backend/controllers/imageController.js:245:16)
[BE]     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
[BE] Error capturado: {
[BE]   message: 'User.decrementQuota is not a function',
[BE]   stack: 'TypeError: User.decrementQuota is not a function\n' +
[BE]     '    at generateImage (/Volumes/SSD_ALEJANDRO_MAC/MAIN/DOCUMENTS/ALEJANDRO_DEV/REPOSITORIES/ZoraGeniX/backend/controllers/imageController.js:245:16)\n' +
[BE]     '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)',
[BE]   url: '/api/images/generate',
[BE]   method: 'POST',
[BE]   timestamp: '2025-09-24T05:51:16.994Z'
[BE] }
[BE] 🗑️ Archivo temporal eliminado: images-1758693067907-778433810.jpg
